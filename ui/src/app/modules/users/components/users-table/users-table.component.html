<ng-container *ngIf="users$ | async as users">
  @if (users.length > 0) {
    <div class="example-container mat-elevation-z8">
      <div class="example-table-container">
        <table mat-table
               [dataSource]="users"
               class="example-table">
          <!-- ID Column -->
          <ng-container matColumnDef="id">
            <th mat-header-cell
                *matHeaderCellDef>ID
            </th>
            <td mat-cell
                *matCellDef="let user">{{ user.id }}
            </td>
          </ng-container>

          <!-- First Name Column -->
          <ng-container matColumnDef="firstName">
            <th mat-header-cell
                *matHeaderCellDef>First Name
            </th>
            <td mat-cell
                *matCellDef="let user">{{ user.firstName }}
            </td>
          </ng-container>

          <!-- Last Name Column -->
          <ng-container matColumnDef="lastName">
            <th mat-header-cell
                *matHeaderCellDef>Last Name
            </th>
            <td mat-cell
                *matCellDef="let user">{{ user.lastName }}
            </td>
          </ng-container>

          <!-- Email ID Column -->
          <ng-container matColumnDef="emailId">
            <th mat-header-cell
                *matHeaderCellDef>Email ID
            </th>
            <td mat-cell
                *matCellDef="let user">{{ user.emailId }}
            </td>
          </ng-container>

          <!-- Date of Birth Column -->
          <ng-container matColumnDef="dob">
            <th mat-header-cell
                *matHeaderCellDef>
              Date of Birth
            </th>
            <td mat-cell
                *matCellDef="let user">{{ user.dob | date }}
            </td>
          </ng-container>

          <!-- Action buttons Column -->
          <ng-container matColumnDef="actions">
            <th mat-header-cell
                *matHeaderCellDef
                mat-sort-header
                disableClear>
              Actions
            </th>
            <td mat-cell
                *matCellDef="let user">
              <button mat-icon-button
                      color="primary"
                      (click)="editUser(user)">
                <mat-icon>edit</mat-icon>
              </button>
              <button mat-icon-button
                      color="primary"
                      (click)="deleteUser(user.id)">
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row
              *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row
              *matRowDef="let user; columns: displayedColumns;"></tr>
        </table>
      </div>
      <mat-paginator [length]="users.length"
                     [pageSize]="30"
                     aria-label="Select page of Users"></mat-paginator>
    </div>
  } @else {
    <div class="msg-box">No users found</div>
  }
</ng-container>
